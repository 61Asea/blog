# Redis线程模型

Redis主要为内存存储介质，shell更多是操作服务器的内存，CPU并不是Redis的瓶颈

# **1. 事件**

Redis服务器本质上是一个**事件驱动**程序，服务器需要处理以下两种事件：
- 文件事件(file event)
- 时间事件(time event）
- 其他事件：aof日志追加等等

## **1.1 文件事件**

定义：文件事件就是服务器对**客户端套接字的抽象**，服务器与客户端的通信会产生相应的**文件事件**，服务器通过监听并处理这些事件，来完成一系列网络通信操作

模式：Reactor模式（I/O多路复用模型）

> [Reactor模式](https://asea-cch.life/achrives/reactor)

基于Reactor模式开发了网络事件处理器，这个处理器被称为文件事件处理器（file event handler）

文件事件处理器以**单线程方式**运行，通过使用I/O多路复用程序监听多个套接字，既实现了高性能的网络通信模型，又可以很好地于Redis服务器中其它同样以单线程方式运行的模块进行对接，保持Redis内部单线程设计的简单性



# 参考
- [dackh-I/O模型总结](https://github.com/dackh/blog/blob/master/IO%E6%A8%A1%E5%9E%8B.md)
- [Redis入门指南]()
- [阻塞、非阻塞、多路复用等I/O模型](https://www.jianshu.com/p/b8203d46895c)